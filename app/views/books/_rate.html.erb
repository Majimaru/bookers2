<div id="rate_<%= book.id %>"></div>

<script>
  $(document).on('turbolinks:load', function() {
    // scriptファイルをどのidの部分に配置するかを指定
    let elem = document.querySelector('#rate_<%= book.id %>');
    let opt = {  
      //星画像の指定などのオプションをここに記述,
      size     : 36,
      starOff  : '<%= asset_path('star-off.png') %>',
      starOn   : '<%= asset_path('star-on.png') %>',
      starHalf : "<%= asset_path('star-half.png') %>",
      // bookモデルのstarカラムへ値を保存という意味になる
      scoreName: 'book[star]',
      // 今回は５段階評価で星半分評価は入力できないように設定
      // half     : false,
      readOnly: true,
      score: "<%= book.star %>",
     };
    raty(elem,opt);
  });
</script>