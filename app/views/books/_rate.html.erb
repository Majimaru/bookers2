<div id="star_<%= book.id %>"></div>
<script>
  $(document).on('turbolinks:load', function() {
    // scriptファイルをどのidの部分に配置するかを指定
    let elem = document.querySelector('#star_<%= book.id %>');
    if (elem == null) return;
    
    // これがないとブラウザバックで星が増え続ける不具合が発生
    $('#star_<%= book.id %>').empty();
    let opt = {  
      //星画像の指定などのオプションをここに記述,
      starOff:  '<%= asset_path('star-off.png') %>',
      starOn : '<%= asset_path('star-on.png') %>',
      starHalf: "<%= asset_path('star-half.png') %>",
      score: "<%= book.star %>",
      readOnly: true,
     };
    raty(elem,opt);
  });
</script>